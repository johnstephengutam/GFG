package com.day5;

public class LinkedList{
	static Node head;
	
	static class Node{
		int data;
		Node next;
		
		Node(int data){
			this.data = data;
		}
	}
	
	static void displayLinkedList(){
		Node list = head;
		System.out.println();
		if(list == null){
			System.out.println("No elements");
			return;
		}
		
		while(list != null){
			System.out.print(list.data+"-->");
			list = list.next;
		}
		//System.out.println();
	}
	
	 void insertAtEnd(int data){
		Node newNode = getNewNode(data);
		
		Node itr = head;
		if(itr == null){
			head = newNode;
			return;
		}
		while(itr.next != null){
			itr = itr.next;
		}
		itr.next = newNode;
	}
	
	 void insertAtBegin(int data){
		 Node newNode = getNewNode(data);
		 
		 Node itr = head;
		 if(itr == null){
			 head = newNode;
			 return;
		 }
		 newNode.next = itr;
		 head = newNode;
	 }
	 
	 static Node getNewNode(int data){
		 Node newNode = new Node(data);
		 newNode.next = null;
		 return newNode;
	 }
	 
	 //We need to get the previous node itr to the postion that we need to insert
	 void insertAtKpostion(int data, int k){
		 Node newNode = getNewNode(data);
		 Node itr = head;
		 k = k -2;
		 while(itr != null && k != 0){
			 itr = itr.next;
			 k--;
		 }
		 newNode.next = itr.next;
		 itr.next = newNode;
	 }
	 
	 static void deleteNode(int data){
		 Node itr = head;
		 Node prev = head;
		 
		 if(itr.data == data){
			 head = head.next;
			 return;
		 }
		 while(itr.data != data && itr.next != null){
			 prev = itr;
			 itr = itr.next;
		 }
		/* if(itr.next == null || head ==null){
			 System.out.println("Data not present");
			 return;
		 }*/
		 prev.next = itr.next;
		 itr.next = null;
	 }
	 
	 static void insertAfterData30(int data){
		 Node newNode = getNewNode(data);
		 Node itr = head;
		 
		 while(itr.data != 30 && itr != null)
			 itr = itr.next;
		 
		 newNode.next = itr.next;
		 itr.next = newNode;
		 
	 }
	 
	 static void middleElement(){
		 int count = 0;
		 
		 Node itr = head;
		 
		 while(itr != null){
			 count++;
			 itr = itr.next;
		 }
		 
		 System.out.println("No of nodes "+ count);
		 
		 if(count%2 == 0)
			 System.out.println("No middle element");
		 else{
			 itr = head;
			 int mid = count/2;
			 while(itr != null && mid != 0){
				 mid--;
				 itr = itr.next;
			 }
			 System.out.println("Middle element "+itr.data);
		 }
	 }
	 
	 static void middleElement2PointersApproach(){
		Node fast = head;
		Node slow = head;
		
		while(fast.next != null && slow != null){
			slow = slow.next;
			fast = fast.next.next;
		}
		System.out.println("Middle Element "+slow.data);
	 }
	 
	public static void main(String[] args) {
		LinkedList list = new LinkedList();
		
		list.insertAtEnd(10);
		list.insertAtEnd(20);
		list.insertAtEnd(30);
		list.insertAtEnd(40);
		
		displayLinkedList();
		
		list.insertAtBegin(5);
		
		displayLinkedList();
		
		list.insertAtKpostion(15,3);
		
		displayLinkedList();
		
		insertAfterData30(35);
		
		displayLinkedList();
		
		//deleteNode(40);
		
		//displayLinkedList();
		
		middleElement();
		
		middleElement2PointersApproach();
	}
}
